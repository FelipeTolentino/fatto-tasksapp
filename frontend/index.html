<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <title>Tarefas</title>

    <link href="./src/output.css" rel="stylesheet">
  </head>

  <body class="bg-white min-h-screen flex flex-col">

    <span class="text-center font-bold text-gray-700 text-2xl my-2">Listagem de Tarefas</span>

    <div class="max-w-4xl w-full mx-auto bg-gray-100 rounded-2xl px-2 flex flex-col flex-1 my-2">

        <div class="grid grid-cols-[60px_80px_3fr_1fr_1fr_2fr] font-bold py-3 px-2">
          <div></div>
          <div class="text-center">ID</div>
          <div>Nome</div>
          <div class="text-ceter">Custo</div>
          <div class="text-center">Data Limite</div>
          <div class="text-center">Ações</div>
        </div>

        <div id="tasks-list" class="flex flex-col gap-2 flex-1 overflow-auto"></div>

        <div class="flex justify-between items-center py-2 px-2">
          <div id="total" class="font-semibold text-2xl"></div>

          <button onclick="openCreationModal()" class="bg-blue-500 hover:bg-blue-600 text-white px-8 py-2 rounded-4xl">
            Incluir
          </button>
        </div>

    </div>

    <!-- Create/Edit Task Modal -->
    <div id="task-modal" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center">
      <div class="bg-white p-6 rounded-2xl w-96">
        
        <h2 id="task-modal-title" class="text-xl font-bold mb-4"></h2>
        
        <input id="task-name" class="border border-gray-500 p-2 w-full mb-2 rounded-4xl" placeholder="Nome" />

        <input id="task-cost" type="text" inputmode="decimal" placeholder="R$ 0,00"
        class="[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none
               [&::-webkit-inner-spin-button]:appearance-none
               border border-gray-500 p-2 w-full mb-2 rounded-4xl" placeholder="Custo" />

        <input id="task-deadline" type="date" class="border border-gray-500 p-2 w-full mb-4 rounded-4xl text-gray-500" />
        
        <!-- Modal Actions -->
        <div class="flex justify-end gap-2">
          <button onclick="save()" class="px-8 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-4xl ">
            Salvar
          </button>
          <button onclick="closeTaskModal()" class="px-4 py-2 rounded-4xl bg-gray-300 hover:bg-gray-400">
            Cancelar
          </button>
        </div>

        <div id="task-modal-error" class="text-red-500 text-center mt-4"></div>
        
      </div>
    </div>
    
    <!-- Confirm Delete Modal -->
    <div id="confirm-modal" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center">
      <div class="bg-white p-6 rounded-2xl w-96">
        
        <h2 class="text-xl font-bold mb-4">Deletar tarefa?</h2>
        
        <span>Os dados serão permamentemente perdidos</span>
        
        <!-- Modal Actions -->
        <div class="flex justify-end gap-2 mt-4">
          <button id="confirm-button" onclick="modalConfirm()" class="px-8 py-2 bg-red-500 hover:bg-red-600 text-white rounded-4xl ">
            Deletar
          </button>
          <button onclick="closeConfirmModal()" class="px-4 py-2 rounded-4xl bg-gray-300 hover:bg-gray-400">
            Cancelar
          </button>
        </div>
        
      </div>
    </div>
    

    <script src="js/cost_input.js"></script>
    <script src="js/api.js"></script>
    <script src="js/app.js"></script>
    <script src="js/sortable.min.js"></script>
    <script src="js/dragdrop.js"></script>
  </body>

</html>